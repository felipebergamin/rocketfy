{"version":3,"sources":["styles/global.js","components/Header/styles.js","components/Header/index.js","components/Board/styles.js","components/Board/context.js","components/List/styles.js","components/Card/styles.js","components/Card/index.js","components/List/index.js","components/Board/index.js","services/api.js","App.js","index.js"],"names":["createGlobalStyle","Container","styled","div","Header","createContext","props","done","isDragging","css","Label","span","color","Card","data","index","listIndex","ref","useRef","move","useContext","BoardContext","useDrag","item","type","collect","monitor","dragRef","useDrop","accept","hover","draggedListIndex","targetListIndex","draggedIndex","targetIndex","targetSize","current","getBoundingClientRect","targetCenter","bottom","top","draggedTop","getClientOffset","y","dropRef","labels","map","label","key","content","user","src","alt","List","cards","length","console","log","title","creatable","size","card","id","Board","useState","lists","setLists","Provider","value","fromList","toList","from","to","produce","draft","dragged","splice","push","list","App","DndProvider","backend","HTML5Backend","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dce32c43.chunk.js","sourcesContent":["import { createGlobalStyle } from \"styled-components\";\n\nexport default createGlobalStyle`\n  @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap');\n\n  * {\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n\n  html, body, #root {\n    height: 100%;\n  }\n\n  body {\n    font: 14px 'Roboto', sans-serif;\n    background: #ecf1f8;\n    color: #333;\n    -webkit-font-smoothing: antialiased;\n  }\n\n  ul {\n    list-style: none;\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  height: 80px;\n  padding: 0 30px;\n  background: #7159c1;\n  color: #fff;\n\n  display: flex;\n  align-items: center;\n`;\n","import React from \"react\";\n\nimport { Container } from \"./styles\";\n\nconst Header = () => {\n  return (\n    <Container>\n      <h1>Rocketfy</h1>\n    </Container>\n  );\n};\n\nexport default Header;\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  padding: 30px 0;\n  height: calc(100% - 80px);\n`;\n","import { createContext } from \"react\";\n\nexport default createContext({});\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  padding: 0 15px;\n  height: 100%;\n  flex: 0 0 320px;\n  opacity: ${(props) => (props.done ? 0.6 : 1)};\n\n  & + div {\n    border-left: 1px solid rgba(0, 0, 0, 0.05);\n  }\n\n  header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    height: 42px;\n\n    h2 {\n      font-weight: 500;\n      font-size: 16px;\n      padding: 0 10px;\n    }\n\n    button {\n      width: 32px;\n      height: 32px;\n      border-radius: 18px;\n      background: #3b5bfd;\n      border: 0;\n      cursor: pointer;\n    }\n  }\n\n  ul {\n    margin-top: 30px;\n  }\n`;\n","import styled, { css } from \"styled-components\";\n\nexport const Container = styled.div`\n  position: relative;\n  background: #fff;\n  border-radius: 5px;\n  margin-bottom: 10px;\n  padding: 15px;\n  box-shadow: 0 1px 4px 0 rgba(192, 208, 230, 0.8);\n  border-top: 20px solid rgba(230, 236, 245, 0.5);\n  cursor: grab;\n\n  header {\n    position: absolute;\n    top: -22px;\n    left: 15px;\n  }\n\n  p {\n    font-weight: 500;\n    line-height: 20px;\n  }\n\n  img {\n    width: 24px;\n    height: 24px;\n    border-radius: 2px;\n    margin-top: 5px;\n  }\n\n  ${(props) =>\n    props.isDragging &&\n    css`\n      border: 2px dashed rgba(0, 0, 0, 0.2);\n      padding-top: 31px;\n      border-radius: 0;\n      background: transparent;\n      box-shadow: none;\n      cursor: grabbing;\n\n      p,\n      img,\n      header {\n        opacity: 0;\n      }\n    `}\n`;\n\nexport const Label = styled.span`\n  width: 10px;\n  height: 10px;\n  border-radius: 2px;\n  display: inline-block;\n  background: ${({ color }) => color};\n`;\n","import React, { useRef, useContext } from \"react\";\nimport { useDrag, useDrop } from \"react-dnd\";\n\nimport BoardContext from \"../Board/context\";\nimport { Container, Label } from \"./styles\";\n\nfunction Card({ data, index, listIndex }) {\n  const ref = useRef(null);\n  const { move } = useContext(BoardContext);\n\n  const [{ isDragging }, dragRef] = useDrag({\n    item: {\n      type: \"CARD\",\n      index,\n      listIndex,\n    },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging(),\n    }),\n  });\n\n  const [, dropRef] = useDrop({\n    accept: \"CARD\",\n    hover(item, monitor) {\n      const draggedListIndex = item.listIndex;\n      const targetListIndex = listIndex;\n\n      const draggedIndex = item.index;\n      const targetIndex = index;\n\n      if (draggedIndex === targetIndex && draggedListIndex === targetListIndex)\n        return;\n\n      const targetSize = ref.current.getBoundingClientRect();\n      const targetCenter = (targetSize.bottom - targetSize.top) / 2;\n      const draggedOffset = monitor.getClientOffset();\n      const draggedTop = draggedOffset.y - targetSize.top;\n\n      if (draggedIndex < targetIndex && draggedTop < targetCenter) return;\n\n      if (draggedIndex > targetIndex && draggedTop > targetCenter) return;\n\n      move(draggedListIndex, targetListIndex, draggedIndex, targetIndex);\n      item.index = targetIndex;\n      item.listIndex = targetListIndex;\n    },\n  });\n\n  dragRef(dropRef(ref));\n\n  return (\n    <Container ref={ref} isDragging={isDragging}>\n      <header>\n        {data.labels.map((label) => (\n          <Label key={label} color={label} />\n        ))}\n      </header>\n      <p>{data.content}</p>\n      {data.user && <img src={data.user} alt=\"avatar\" />}\n    </Container>\n  );\n}\n\nexport default Card;\n","import React, { useContext } from \"react\";\nimport { MdAdd } from \"react-icons/md\";\nimport { useDrop } from \"react-dnd\";\n\nimport BoardContext from \"../Board/context\";\nimport { Container } from \"./styles\";\nimport Card from \"../Card\";\n\nfunction List({ data, index: listIndex }) {\n  const { move } = useContext(BoardContext);\n\n  const [, dropRef] = useDrop({\n    accept: \"CARD\",\n    hover(item) {\n      if (data.cards.length) return;\n\n      const draggedListIndex = item.listIndex;\n      const targetListIndex = listIndex;\n\n      const draggedIndex = item.index;\n\n      console.log({\n        draggedListIndex,\n        targetListIndex,\n        draggedIndex,\n      });\n\n      move(draggedListIndex, targetListIndex, draggedIndex);\n      item.index = data.cards.length;\n      item.listIndex = targetListIndex;\n    },\n  });\n\n  return (\n    <Container ref={dropRef} done={data.done}>\n      <header>\n        <h2>{data.title}</h2>\n        {data.creatable && (\n          <button type=\"button\">\n            <MdAdd size={24} color=\"#fff\" />\n          </button>\n        )}\n      </header>\n\n      <ul>\n        {data.cards.map((card, index) => (\n          <Card key={card.id} data={card} index={index} listIndex={listIndex} />\n        ))}\n      </ul>\n    </Container>\n  );\n}\n\nexport default List;\n","import React, { useState } from \"react\";\nimport produce from \"immer\";\n\nimport { Container } from \"./styles\";\nimport List from \"../List\";\nimport { loadLists } from \"../../services/api\";\nimport BoardContext from \"./context\";\n\nconst data = loadLists();\n\nfunction Board() {\n  const [lists, setLists] = useState(data);\n\n  function move(fromList, toList, from, to) {\n    setLists(\n      produce(lists, (draft) => {\n        const dragged = draft[fromList].cards[from];\n        draft[fromList].cards.splice(from, 1);\n        if (to) {\n          draft[toList].cards.splice(to, 0, dragged);\n        } else {\n          draft[toList].cards.push(dragged);\n        }\n      })\n    );\n  }\n\n  return (\n    <BoardContext.Provider value={{ lists, move }}>\n      <Container>\n        {lists.map((list, index) => (\n          <List key={list.title} data={list} index={index} />\n        ))}\n      </Container>\n    </BoardContext.Provider>\n  );\n}\n\nexport default Board;\n","export function loadLists() {\n  return [\n    {\n      title: \"Tarefas\",\n      creatable: true,\n      cards: [\n        {\n          id: 1,\n          content: \"Estudar módulo 01 de NodeJS\",\n          labels: [\"#7159c1\"],\n          user:\n            \"https://www.gravatar.com/avatar/f61b1f56529503d889840824ca115c58\",\n        },\n        {\n          id: 2,\n          content:\n            \"Criar vídeo para o Youtube ensinando a recriar a interface do Pipefy\",\n          labels: [\"#7159c1\"],\n          user:\n            \"https://www.gravatar.com/avatar/f61b1f56529503d889840824ca115c58\",\n        },\n        {\n          id: 3,\n          content: \"Estudar módulo 03 de React Native\",\n          labels: [\"#7159c1\"],\n          user:\n            \"https://www.gravatar.com/avatar/f61b1f56529503d889840824ca115c58\",\n        },\n        {\n          id: 4,\n          content:\n            'Gravar Aula \"NextJS: Utilizando server-side rendering com ReactJS\"',\n          labels: [\"#54e1f7\"],\n          user:\n            \"https://www.gravatar.com/avatar/f61b1f56529503d889840824ca115c58\",\n        },\n        {\n          id: 5,\n          content: \"Gravar testes e deploy ReactJS\",\n          labels: [\"#54e1f7\"],\n          user:\n            \"https://www.gravatar.com/avatar/f61b1f56529503d889840824ca115c58\",\n        },\n      ],\n    },\n    {\n      title: \"Fazendo\",\n      creatable: false,\n      cards: [\n        {\n          id: 6,\n          content: \"Recriando clone do Pipefy\",\n          labels: [],\n          user:\n            \"https://www.gravatar.com/avatar/f61b1f56529503d889840824ca115c58\",\n        },\n      ],\n    },\n    {\n      title: \"Pausado\",\n      creatable: false,\n      cards: [\n        {\n          id: 7,\n          content: \"Gravar sobre Geolocalização e mapas com React Native\",\n          labels: [\"#7159c1\"],\n          user:\n            \"https://www.gravatar.com/avatar/f61b1f56529503d889840824ca115c58\",\n        },\n        {\n          id: 8,\n          content: \"Gravar testes e deploy ReactJS\",\n          labels: [\"#54e1f7\"],\n          user:\n            \"https://www.gravatar.com/avatar/f61b1f56529503d889840824ca115c58\",\n        },\n        {\n          id: 9,\n          content: \"Ajustes na biblioteca unform\",\n          labels: [],\n        },\n      ],\n    },\n    {\n      title: \"Concluído\",\n      creatable: false,\n      done: true,\n      cards: [\n        {\n          id: 10,\n          content: \"Gravar aula sobre deploy e CI com React Native\",\n          labels: [],\n        },\n        {\n          id: 12,\n          content: \"Gravar testes e deploy ReactJS\",\n          labels: [\"#54e1f7\"],\n        },\n        {\n          id: 13,\n          content:\n            'Gravar Aula \"Internacionalização de aplicações Node.js, ReactJS e React Native\"',\n          labels: [\"#7159c1\"],\n        },\n      ],\n    },\n  ];\n}\n","import React from \"react\";\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\n\nimport GlobalStyle from \"./styles/global\";\nimport Header from \"./components/Header\";\nimport Board from \"./components/Board\";\n\nfunction App() {\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <Header />\n      <Board />\n      <GlobalStyle />\n    </DndProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}